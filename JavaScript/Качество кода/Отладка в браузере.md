[Отладка](https://ru.wikipedia.org/wiki/%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B) – это процесс поиска и исправления ошибок в скрипте. Все современные браузеры и большинство других сред разработки поддерживают инструменты для отладки – специальный графический интерфейс, который сильно упрощает отладку. Он также позволяет по шагам отследить, что именно происходит в нашем коде.

Здесь будет рассмотрена панель отладки в браузерах на движке [chromium](https://ru.wikipedia.org/wiki/Chromium)
# Консоль
При нажатии на клавишу Esc в нижней части экрана вызывается консоль, где можно вводить команды и выполнять их клавишей Enter.

Результат выполнения инструкций сразу же отображается в консоли.

Например, результатом `1+2` будет `3`, а вызов функции `hello("debugger")` ничего не возвращает, так что результатом будет `undefined`:
![[Pasted image 20260206213109.png]]
# Панель «Исходный код» («Sources»)
![[Pasted image 20260206210516.png]]
1. В зоне **File Navigator** (панель для навигации файлов) показаны файлы HTML, JavaScript, CSS, включая изображения, используемые на странице. Здесь также могут быть файлы различных расширений Chrome.
2. Зона **Code Editor** (редактор кода) показывает исходный код.
3. Наконец, зона **JavaScript Debugging** (панель отладки JavaScript) отведена для отладки, скоро мы к ней вернёмся.
## Точки останова (breakpoints)
При нажатии на номер строки можно поставить точку останова.
![[Pasted image 20260206215020.png]]
_Точка останова_ – это участок кода, где отладчик автоматически приостановит исполнение JavaScript.

Пока исполнение поставлено «на паузу», мы можем просмотреть текущие значения переменных, выполнить команды в консоли, другими словами, выполнить отладку кода.

В правой части графического интерфейса мы видим список точек останова. А когда таких точек выставлено много, да ещё и в разных файлах, этот список поможет эффективно ими управлять:

- Быстро перейдите к точке останова в коде (нажав на неё на правой панели).
- Временно отключите точку останова, сняв с неё галочку.
- Удалите точку останова, щёлкнув правой кнопкой мыши и выбрав Remove (Удалить).
- …и так далее.
> [!NOTE] Условные точки **останова**
> _Щелчок правой кнопкой мыши_ по номеру строки позволяет создать _условную_ точку останова. Она сработает только в тот момент, когда выражение, которое вы должны указать при создании такой точки, истинно.
> 
> Это удобно, когда нам нужно остановиться только при определённом значении переменной или для определённых параметров функции.
## Команда debugger
Выполнение кода можно также приостановить с помощью команды `debugger` прямо изнутри самого кода:
```js
function hello(name) {
  let phrase = `Привет, ${name}!`;

  debugger;  // <-- тут отладчик остановится

  say(phrase);
}
```
***Такая команда сработает только если открыты инструменты разработки, иначе браузер ее проигнорирует.***
## Подробное описание боковой панели

1. **`Watch`– показывает текущие значения для любых выражений.**
    Вы можете нажать на `+` и ввести выражение. Отладчик покажет его значение, автоматически пересчитывая его в процессе выполнения.
2. **`Call Stack` – показывает цепочку вложенных вызовов.**
    В текущий момент отладчик находится внутри вызова `hello()`, вызываемого скриптом в `index.html` (там нет функции, поэтому она называется “анонимной”).
    
    Если вы нажмёте на элемент стека (например, «anonymous»), отладчик перейдёт к соответствующему коду, и нам представляется возможность его проанализировать.
3. **`Scope` показывает текущие переменные.**
    `Local` показывает локальные переменные функций, а их значения подсвечены прямо в исходном коде.
    В `Global` перечисляются глобальные переменные (то есть вне каких-либо функций).
    Там также есть ключевое слово `this`, которое мы ещё не изучали, но скоро изучим.
## Пошаговое выполнение скрипта
![[Pasted image 20260206224458.png]]
Для пошагового выполнения скрипта достаточно нажать на кнопку 
-   ![[Pasted image 20260206224517.png]]**«Resume»: продолжить выполнение или быстрая клавиша F8.**

Возобновляет выполнение кода. Если больше нет точек останова, то выполнение просто продолжается, без контроля отладчиком.

Выполнение кода возобновилось, дошло до другой точки останова внутри `say()`, и отладчик снова приостановил выполнение. Обратите внимание на пункт «Call stack» справа: в списке появился ещё один вызов. Сейчас мы внутри `say()`.

 - ![[Pasted image 20260206224637.png]] `**«Step»`: выполнить следующую команду, быстрая клавиша `F9`.** 
Выполняет следующую инструкцию. Если мы нажмём на неё сейчас, появится `alert`.
Нажатие на эту кнопку снова и снова приведёт к пошаговому выполнению всех инструкций скрипта одного за другим.

-  ![[Pasted image 20260206224800.png]]**«Step over»: выполнить следующую команду, но _не заходя внутрь функции_, быстрая клавиша `F10`.**
Работает аналогично предыдущей команде «Step», но ведёт себя по-другому, если следующая инструкция является вызовом функции (имеется ввиду: не встроенная, как `alert`, а объявленная нами функция).

Если сравнить, то команда «Step» переходит во вложенный вызов функцию и приостанавливает выполнение в первой строке, в то время как «Step over» выполняет вызов вложенной функции незаметно для нас, пропуская её внутренний код.

Затем выполнение приостанавливается сразу после вызова функции.

**Это хорошо, если нам не интересно видеть, что происходит внутри вызова функции.**

- ![[Pasted image 20260206225052.png]]**`«Step into»`, быстрая клавиша `F11`.**
Это похоже на «Step», но ведёт себя по-другому в случае асинхронных вызовов функций. 

команда «Step» игнорирует асинхронные действия, такие как `setTimeout` (вызов функции по расписанию), которые выполняются позже. «Step into» входит в их код, ожидая их, если это необходимо.

- ![[Pasted image 20260206225522.png]] **`«Step out»`: продолжить выполнение до завершения текущей функции, быстрая клавиша `Shift+F11`.**
 
 - ![[Pasted image 20260206230038.png]] **активировать/деактивировать все точки останова(breakpoints).**
Эта кнопка не влияет на выполнение кода, она лишь позволяет массово включить/отключить точки останова.

– ![[Pasted image 20260206230403.png]]**включить/отключить автоматическую паузу в случае ошибки.**

При включении, если открыты инструменты разработчика, ошибка при выполнении скрипта автоматически приостанавливает его. Затем мы можем проанализировать переменные в отладчике, чтобы понять, что пошло не так. Поэтому, если наш скрипт умирает с ошибкой, мы можем открыть отладчик, включить эту опцию и перезагрузить страницу, чтобы увидеть, где он умирает и каков контекст в этот момент.
> [!NOTE] Continue to here
> Щелчок правой кнопкой мыши по строке кода открывает контекстное меню с отличной опцией под названием «Continue to here» («продолжить до этого места»).
> 
> Это удобно, когда мы хотим перейти на несколько шагов вперёд к строке, без перестановки точек останова и перезапуска кода.
## Логирование
Чтобы вывести что-то на консоль из нашего кода, существует функция `console.log`.

Например, это выводит в консоль значения от `0` до `4`:
```js
// чтобы увидеть результат, сначала откройте консоль
for (let i = 0; i < 5; i++) {
  console.log("value,", i);
}
```
Обычный пользователь сайта не увидит такой вывод, так как он в консоли. Чтобы увидеть его, либо откройте консольную панель инструментов разработчика, либо нажмите Esc, находясь в другой панели: это откроет консоль внизу.

Если правильно выстроить логирование в приложении, то можно и без отладчика разобраться, что происходит в коде.