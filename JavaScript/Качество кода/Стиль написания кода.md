Код должен быть максимально читаемым и понятным.
Это и есть искусство программирования – взять сложную задачу и написать такой код для её решения, который и правильно работает, и легко читается, понятен для людей. Для этого нужен _хороший стиль_ написания кода.
# Синтаксис
![[Pasted image 20260208120151.png]]
> [!NOTE] Ни одно правило не является жёстко обязательным
> Здесь нет железных правил. Это стилевые предпочтения, а не религиозные догмы.

## Фигурные скобки
В большинстве JavaScript проектов фигурные скобки пишутся в так называемом «египетском» стиле с открывающей скобкой на той же строке, что и соответствующее ключевое слово – не на новой строке. Перед открывающей скобкой должен быть пробел, как здесь:
```js
if (condition) {
  // делай это
  // ...и это
  // ...и потом это
}
```
А что если у нас однострочная запись, типа `if (condition) doSomething()`, должны ли мы использовать фигурные скобки?

1. Плохо, фигурные скобки не нужны:
```js
if (n < 0) {alert(`Степень ${n} не поддерживается`);}
```
2. Никогда не разделяйте строки без фигурных скобок, можно ненароком сделать ошибку при добавлении строк:
```js
if (n < 0)
  alert(`Степень ${n} не поддерживается`);
```
3.  В одну строку без скобок – приемлемо, если эта ***строка короткая***:
```js
if (n < 0) alert(`Степень ${n} не поддерживается`);
```
4. Самый лучший вариант:
```js
if (n < 0) {
  alert(`Степень ${n} не поддерживается`);
}
```
## Длина строки
Никто не любит читать длинные горизонтальные строки кода. Лучше всего разбивать их, например:
```js
// обратные кавычки ` позволяют разделять строку на части
let str = `
  Рабочая группа TC39 организации Ecma International -
  это группа JavaScript-разработчиков, теоретиков и авторов движков JavaScript,
  которые вместе с сообществом занимаются поддержкой и развитием языка JavaScript.
`;
```
или для if
```js
if (
  id === 123 &&
  moonPhase === 'Waning Gibbous' &&
  zodiacSign === 'Libra'
) {
  letTheSorceryBegin();
}
```
Максимальную длину строки согласовывают в команде. Обычно это `80` или `120` символов.
## Отступы
Существует два типа отступов:

- **Горизонтальные отступы: 2 или 4 пробела.**
Горизонтальный отступ выполняется с помощью 2 или 4 пробелов, или символа табуляции (клавиша Tab). Какой из них выбрать – это уже на ваше усмотрение. Пробелы больше распространены.

Одно из преимуществ пробелов над табуляцией заключается в том, что пробелы допускают более гибкие конфигурации отступов, чем символ табуляции.

Например, мы можем выровнять аргументы относительно открывающей скобки:
```javascript
show(parameters,
     aligned, // 5 пробелов слева
     one,
     after,
     another
  ) {
  // ...
}
```

- **Вертикальные отступы: пустые строки для разбивки кода на «логические блоки».**
Даже одну функцию часто можно разделить на логические блоки. В примере ниже разделены инициализация переменных, основной цикл и возвращаемый результат:
```javascript
function pow(x, n) {
  let result = 1;
  //              <--
  for (let i = 0; i < n; i++) {
    result *= x;
  }
  //              <--
  return result;
}
```

***Вставляйте дополнительный перевод строки туда, где это сделает код более читаемым. Не должно быть более 9 строк кода подряд без вертикального отступа.***
## Точка с запятой

Точки с запятой должны присутствовать после каждого выражения, даже если их, казалось бы, можно пропустить.

Есть языки, в которых точка с запятой необязательна и редко используется. Однако в JavaScript бывают случаи, когда перенос строки не интерпретируется, как точка с запятой, что может привести к ошибкам.

## Уровни вложенности

Уровней вложенности должно быть немного.

Например, в цикле бывает полезно использовать директиву `continue` ([[Циклы#^bcedab]]), чтобы избежать лишней вложенности.

Например, вместо добавления вложенного условия `if`, как здесь:
```javascript
for (let i = 0; i < 10; i++) {
  if (cond) {
    ... // <- ещё один уровень вложенности
  }
}
```
Мы можем написать:
```javascript
for (let i = 0; i < 10; i++) {
  if (!cond) continue;
  ...  // <- нет лишнего уровня вложенности
}
```
# Размещение функций
Если вы пишете несколько вспомогательных функций, а затем используемый ими код, то существует три способа организации функций.

1. Объявить функции _перед_ кодом, который их вызовет:
```javascript
// объявление функций
function createElement() {
  ...
}

function setHandler(elem) {
  ...
}

function walkAround() {
  ...
}

// код, который использует их
let elem = createElement();
setHandler(elem);
walkAround();
```
2. Сначала код, затем функции
```js
// код, использующий функции
let elem = createElement();
setHandler(elem);
walkAround();

// --- вспомогательные функции ---
function createElement() {
  ...
}

function setHandler(elem) {
  ...
}

function walkAround() {
  ...
}
```

***В большинстве случаев второй вариант является предпочтительным.***

Это потому, что при чтении кода мы сначала хотим знать, _что он делает_. Если сначала идёт код, то это тут же становится понятно. И тогда, может быть, нам вообще не нужно будет читать функции, особенно если их имена хорошо подобраны.

# Автоматизированные средства проверки (линтеры)

Автоматизированные средства проверки, так называемые «линтеры» – это инструменты, которые могут автоматически проверять стиль вашего кода и вносить предложения по его улучшению.

Самое замечательное в них то, что проверка стиля может также найти программные ошибки, такие как опечатки в именах переменных или функций. Из-за этой особенности использовать линтер рекомендуется, даже если вы не хотите придерживаться какого-то конкретного «стиля кода».

Вот некоторые известные инструменты для проверки:

- [JSLint](https://www.jslint.com/) – проверяет код на соответствие [стилю JSLint](https://www.jslint.com/index.html), в онлайн-интерфейсе вверху можно ввести код, а внизу – различные настройки проверки, чтобы попробовать её в действии.
- [JSHint](https://jshint.com/) – больше проверок, чем в JSLint.
- [ESLint](https://eslint.org/) – пожалуй, самый современный линтер.