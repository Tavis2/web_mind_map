Одна из самых важных тем в понимании JavaScript — различие между примитивными и ссылочными типами.  
От этого зависит:
- как данные хранятся в памяти
- как они копируются
- как работают сравнения
- почему иногда возникают «странные» баги
# Примитивные типы (Primitive types)

В JavaScript существует 7 примитивных типов:
- [[Типы данных и преобразования#^6f0bf7| number ]]
- [[Типы данных и преобразования#^ee9df1|string]]
- [[Типы данных и преобразования#^642ccb|boolean]]
- [[Типы данных и преобразования#^9949e9| null]]
- [[Типы данных и преобразования#^162b47| undefiend]]
- [[Типы данных и преобразования#^f2fcba|bigint]]
- `symbol`

Главная особенность примитивов:
> Они хранятся и передаются **по значению**.

Это значит: в переменной лежит само значение, а не ссылка на него.

# Ссылочные типы (Reference types)

К ссылочным типам относятся:

- [[Объекты. Основное|object]]
- `array`
- `function`
- `Map`
- `Set`
- `Date`
- `RegExp`
- и другие объекты

Главная особенность:
> Они хранятся и передаются **по ссылке**.

Это значит:
- сам объект создаётся в куче (heap)
- в переменной хранится ссылка на него

# Ключевые различия

## Копирование 
В  примитивах значение копируется просто через указания знака равно `=` между переменными. 
```js
let a = { value: 5 };
let b = a;

b.value = 10;

console.log(a.value); // 10
```

У объектов копируется ссылка на область памяти, которой хранится значение
```js
let a = { value: 5 };
let b = a;

b.value = 10;

console.log(a.value); // 10
```
## Сравнение (`===`)

Примитивы сравниваются по значению
```js
console.log(5 === 5); // true  
console.log("hi" === "hi"); // true
```

Объекты сравниваются по ссылке
```js
console.log({} === {}); // false
```
Почему?

Потому что:
- создаются два разных объекта
- у них разные ссылки в памяти

[[Копирование объектов. Ссылки|Подробнее о сравнении, клонировании и изменении объекта]]

## Мутация
### Строка, число и т. д. - это  неизменяемое значение(immutable).

Примитив нельзя изменить.
```js
let a = 10;
a = a + 5;

console.log(a); // 15

let str = "hello";  
str[0] = "H";  
  
console.log(str); // "hello"
```



Что на самом деле происходит с значениями:
- создаётся новое значение `"Hello"`
- переменная `str` начинает указывать на новое значение
- старое значение `"hello"` со временем удалится сборщиком мусора

- Было создано значение `10`
- Затем создаётся новое значение `15`
- Переменная `a` начинает ссылаться на `15`
- `10` становится недостижимым (если больше нигде не используется)

### Объекты — изменяемые (mutable):

```js
let user = { name: "Alex" };
user.name = "John";

console.log(user.name); // "John"
```
#### Что происходит в памяти
1. В куче создаётся объект:
```
{ name: "Alex" }
```
2. Переменная `user` хранит ссылку на него.
3. Когда мы пишем:
```js
user.name = "John";
```

Мы **изменяем существующий объект**, а не создаём новый.
Ссылка остаётся той же.